# The options in this file override the defaults provided by DrupalVM. For a
# comprehensive list of possible options, see DrupalVM's default.config.yml.
# @see https://github.com/geerlingguy/drupal-vm/blob/master/default.config.yml

# Update the hostname to the local development environment hostname.
vagrant_hostname: local.multisite.com
vagrant_machine_name: multisite

# Set the IP address so it doesn't conflict with other Drupal VM instances.
vagrant_ip: 192.168.39.166

# Use Ubuntu 16.04 LTS to match Acquia Cloud environments.
vagrant_box: geerlingguy/drupal-vm
workspace: /root
drupal_site_name: 'My BLT site'

# Provide the path to the project root to Vagrant.
vagrant_synced_folders:
  -
    local_path: .
    # Set the destination to the Acquia Cloud subscription machine name.
    destination: /var/www/multisite
    type: nfs

drupal_build_composer_project: false
drupal_composer_path: false
drupal_composer_install_dir: /var/www/multisite
drupal_core_path: /var/www/multisite/docroot
ssh_home: /var/www/multisite
firewall_disable_firewalld: false

# Multisite installations should configure additional domains here.
apache_vhosts:
  -
    servername: '{{ drupal_domain }}'
    serveralias: 'www.{{ drupal_domain }}'
    documentroot: '{{ drupal_core_path }}'
    extra_parameters: '{{ apache_vhost_php_fpm_parameters }}'
  -
    servername: 'dashboard.{{ drupal_domain }}'
    serveralias: 'www.dashboard.{{ drupal_domain }}'
    documentroot: /var/www/dashboard
    extra_parameters: '{{ apache_vhost_php_fpm_parameters }}'
  -
    servername: 'adminer.{{ drupal_domain }}'
    serveralias: 'www.adminer.{{ drupal_domain }}'
    documentroot: '{{ adminer_install_dir }}'
    extra_parameters: '{{ apache_vhost_php_fpm_parameters }}'
  -
    servername: local.second.com
    documentroot: '{{ drupal_core_path }}'
    extra_parameters: '{{ apache_vhost_php_fpm_parameters }}'
  -
    servername: local.third.com
    documentroot: '{{ drupal_core_path }}'
    extra_parameters: '{{ apache_vhost_php_fpm_parameters }}'

#  - servername: "local.second-drupal-site.com"
#    documentroot: "{{ drupal_core_path }}"
#    extra_parameters: "{{ apache_vhost_php_fpm_parameters }}"

# Multisite installations should configure additional databases here.
# It's recommended to prefix database names with 'drupal'. Otherwise,
# you'll need to add additional users in the 'mysql_users' section.
mysql_databases:
  -
    name: drupal
    encoding: utf8
    collation: utf8_general_ci
  -
    name: drupal_second
    encoding: utf8
    collation: utf8_general_ci
  -
    name: drupal_third
    encoding: utf8
    collation: utf8_general_ci
#  - name: drupal_two
#    encoding: utf8
#    collation: utf8_general_ci

mysql_users:
  -
    name: drupal
    password: drupal
    host: localhost
    priv: 'drupal%.*:ALL'

# Set this to 'false' if you don't need to install drupal (using the drupal_*
# settings below), but instead copy down a database (e.g., using drush sql-sync).
drupal_install_site: false

# Drupal VM automatically creates a drush alias file in your ~/.drush folder if
# this variable is 'true'.
configure_drush_aliases: false
extra_packages:
  - patchutils
  - sqlite
installed_extras:
  - adminer
  - selenium
  - drush
  - mailhog
  - memcached
  - nodejs
  - solr
  - xdebug
php_version: '7.4'
php_packages_extra:
  - 'php{{ php_version }}-bz2'
  - 'php{{ php_version }}-imagick'
  - 'php{{ php_version }}-zip'
  - 'php{{ php_version }}-curl'
  - imagemagick

# XDebug configuration.
php_xdebug_version: 2.9.5
# Change this value to 1 in order to enable xdebug by default.
php_xdebug_default_enable: 0
php_xdebug_cli_disable: 'yes'
php_xdebug_remote_port: '9000'
php_memory_limit: 512M
solr_version: 4.5.1

post_provision_scripts:
  - ../../../acquia/blt-drupal-vm/scripts/drupal-vm/configure-solr.sh
  - ../../../acquia/blt-drupal-vm/scripts/drupal-vm/post-provision.php
